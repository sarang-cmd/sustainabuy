(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},550:(e,t,a)=>{"use strict";let s;a.d(t,{db:()=>c,j:()=>l});var r=a(2078),i=a(2553),n=a(9390);s=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyBrpmL329XEEM0GHp5z_7qEeQyHA_gLlug",authDomain:"sustainabuy-dev.firebaseapp.com",projectId:"sustainabuy-dev",storageBucket:"sustainabuy-dev.firebasestorage.app",messagingSenderId:"99139895549",appId:"1:99139895549:web:728ca5ad41a4950acebe94"});let l=(0,i.xI)(s),c=(0,n.aU)(s)},667:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(5155);function r(e){let{variant:t="primary",size:a="md",children:r,className:i="",...n}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-xl transition-all duration-200 active:scale-95 flex items-center justify-center"," ").concat({primary:"bg-cerulean-500 hover:bg-cerulean-600 text-white shadow-lg shadow-cerulean-500/20",secondary:"bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm border border-white/10",outline:"border border-cerulean-500 text-cerulean-400 hover:bg-cerulean-500/10",ghost:"text-gray-400 hover:text-white hover:bg-white/5"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(i),...n,children:r})}},3457:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},6217:(e,t,a)=>{"use strict";a.d(t,{default:()=>y});var s=a(5155),r=a(2115),i=a(63),n=a(7639),l=a(667),c=a(5121);let o=(0,c.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=a(3457),u=a(1503);let h=(0,c.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var m=a(6907),x=a(9626),g=a(9293),f=a(2619),p=a.n(f);function y(e){var t,a,c,f,y,b;let{id:w}=e,v=(0,i.useRouter)(),{user:j}=(0,g.A)(),[N,k]=(0,r.useState)(null),[A,C]=(0,r.useState)(!0),[M,S]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(w){C(!0);try{let e=await (0,x.oo)(w);if(k(e),j&&e){let t=await (0,x.VM)(j.uid);t&&t.wishlist.includes(e.id)&&S(!0)}}catch(e){console.error("Error fetching details:",e)}finally{C(!1)}}})()},[w,j]);let z=async()=>{if(!j)return void v.push("/login");if(N){P(!0);try{await (0,x.oS)(j.uid,N.id,!M),S(!M)}catch(e){console.error("Error toggling wishlist:",e)}finally{P(!1)}}};return A?(0,s.jsx)("div",{className:"p-20 text-center text-white",children:"Loading product details..."}):N?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(p(),{href:"/products",className:"inline-flex items-center text-gray-400 hover:text-white mb-6 transition-colors",children:[(0,s.jsx)(o,{className:"h-4 w-4 mr-2"})," Back to Products"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{className:"relative h-[500px] rounded-2xl overflow-hidden group bg-jet-black-800",children:[N.image?(0,s.jsx)("img",{src:N.image,alt:N.name,className:"object-cover w-full h-full",onError:e=>{e.currentTarget.style.display="none"}}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-gray-600",children:"No Image"}),(0,s.jsx)("div",{className:"absolute top-4 right-4",children:(0,s.jsx)(l.$,{variant:"secondary",className:"rounded-full h-12 w-12 !p-0 flex items-center justify-center backdrop-blur-md ".concat(M?"bg-red-500/20 border-red-500/50 text-red-500":"bg-black/20 text-white"),onClick:z,disabled:E,children:(0,s.jsx)(d.A,{className:"h-6 w-6 ".concat(M?"fill-current":"")})})})]}),(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-cerulean-400 font-medium tracking-wide uppercase text-sm mb-2",children:N.brand}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:N.name}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,s.jsxs)("span",{className:"text-3xl font-bold text-white",children:["$",N.price.toFixed(2)]}),(0,s.jsxs)("div",{className:"bg-tea-green-500/20 px-3 py-1 rounded-full flex items-center gap-2 border border-tea-green-500/30",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 text-tea-green-400"}),(0,s.jsxs)("span",{className:"text-tea-green-400 font-bold text-sm",children:["Score: ",N.score,"/100"]})]})]}),(0,s.jsx)("p",{className:"text-gray-300 leading-relaxed mb-8",children:N.description}),(0,s.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,s.jsx)(l.$,{className:"flex-1 py-4 text-lg",children:"Find Reseller"}),(0,s.jsx)(l.$,{variant:"secondary",className:"px-6",children:(0,s.jsx)(h,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)(n.j,{className:"p-6 mt-auto",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-cerulean-400"}),"Sustainability Breakdown"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Materials"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:[null==(t=N.breakdown)?void 0:t.materials,"/100"]})]}),(0,s.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-cerulean-500",style:{width:"".concat(null==(a=N.breakdown)?void 0:a.materials,"%")}})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Manufacturing & Labor"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:[null==(c=N.breakdown)?void 0:c.manufacturing,"/100"]})]}),(0,s.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-tropical-teal-500",style:{width:"".concat(null==(f=N.breakdown)?void 0:f.manufacturing,"%")}})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Circular Lifecycle"}),(0,s.jsxs)("span",{className:"text-white font-medium",children:[null==(y=N.breakdown)?void 0:y.circularity,"/100"]})]}),(0,s.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-tea-green-500",style:{width:"".concat(null==(b=N.breakdown)?void 0:b.circularity,"%")}})})]})]}),(0,s.jsx)("div",{className:"mt-6 pt-6 border-t border-white/10 grid grid-cols-2 gap-4",children:N.certifications&&N.certifications.length>0?N.certifications.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 text-tea-green-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-white text-sm font-medium",children:e}),(0,s.jsx)("p",{className:"text-gray-500 text-xs",children:"Verified"})]})]},t)):(0,s.jsx)("p",{className:"text-gray-500 text-xs col-span-2",children:"No specific certifications listed."})})]})]})]})]}):(0,s.jsxs)("div",{className:"p-20 text-center",children:[(0,s.jsx)("h2",{className:"text-xl text-white mb-4",children:"Product not found"}),(0,s.jsx)(p(),{href:"/products",children:(0,s.jsx)(l.$,{children:"Back to Products"})})]})}},6907:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7639:(e,t,a)=>{"use strict";a.d(t,{j:()=>u});var s=a(5155),r=a(3350),i=a(7952),n=a(9770),l=a(2719),c=a(2821),o=a(5889),d=a(2115);function u(e){let{children:t,className:a,tiltIntensity:u=15,...h}=e,m=(0,d.useRef)(null),x=(0,r.d)(0),g=(0,r.d)(0),f=(0,i.z)(x,{stiffness:500,damping:100}),p=(0,i.z)(g,{stiffness:500,damping:100}),y=(0,n.G)(p,[-.5,.5],[u,-u]),b=(0,n.G)(f,[-.5,.5],[-u,u]);return(0,s.jsxs)(l.P.div,{ref:m,onMouseMove:e=>{if(!m.current)return;let t=m.current.getBoundingClientRect(),a=t.width,s=t.height,r=e.clientX-t.left,i=e.clientY-t.top;x.set(r/a-.5),g.set(i/s-.5)},onMouseLeave:()=>{x.set(0),g.set(0)},style:{rotateX:y,rotateY:b,transformStyle:"preserve-3d",boxShadow:"var(--liquid-shadow)",willChange:"transform"},className:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,c.$)(t))}("relative rounded-2xl transition-all duration-200 ease-out","bg-jet-black-900/40 backdrop-blur-md border border-white/10","group isolate",a),...h,children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay pointer-events-none z-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-white/10 group-hover:ring-white/30 transition-all duration-500 z-10"}),(0,s.jsx)("div",{className:"absolute -inset-[100px] bg-gradient-to-r from-cerulean-500/0 via-cerulean-500/10 to-tropical-teal-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-3xl -z-10"}),(0,s.jsx)("div",{className:"relative z-20",style:{transform:"translateZ(20px)"},children:t}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl pointer-events-none z-30 mix-blend-overlay"})]})}},9293:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>o});var s=a(5155),r=a(2115),i=a(2553),n=a(550);let l=(0,r.createContext)({user:null,loading:!0,signInWithGoogle:async()=>{},signInWithGithub:async()=>{},logout:async()=>{}}),c=()=>(0,r.useContext)(l);function o(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,i.hg)(n.j,e=>{c(e),d(!1)});return()=>e()},[]);let u=async()=>{let e=new i.HF;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Google",e),e}},h=async()=>{let e=new i.Dt;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Github",e),e}},m=async()=>{try{await (0,i.CI)(n.j)}catch(e){console.error("Error signing out",e)}};return(0,s.jsx)(l.Provider,{value:{user:a,loading:o,signInWithGoogle:u,signInWithGithub:h,logout:m},children:t})}},9626:(e,t,a)=>{"use strict";a.d(t,{kF:()=>u,$T:()=>h,AS:()=>d,oo:()=>o,VM:()=>n,Uj:()=>c,oS:()=>l});var s=a(9390),r=a(550);async function i(e){await new Promise(e=>setTimeout(e,500));let t=70,a=[],s=["organic cotton","recycled polyester","hemp","tencel","bamboo"],r=["virgin polyester","rayon","conventional cotton"],i=e.materials.some(e=>s.some(t=>e.toLowerCase().includes(t))),n=e.materials.some(e=>r.some(t=>e.toLowerCase().includes(t)));return i&&(t+=15,a.push("Contains sustainable materials like "+e.materials.find(e=>s.some(t=>e.toLowerCase().includes(t))))),n&&(t-=10,a.push("Contains high-impact materials.")),e.certifications&&e.certifications.length>0&&(t+=5*e.certifications.length,a.push("Verified certifications: ".concat(e.certifications.join(", ")))),{total:t=Math.min(100,Math.max(0,t)),breakdown:{materials:Math.min(100,t+(10*Math.random()-5)),manufacturing:Math.min(100,t+(10*Math.random()-5)),supplyChain:Math.min(100,t-5),longevity:Math.min(100,t+5),circularity:Math.min(100,t-10)},analysis:a.length>0?a:["Standard sustainability profile."]}}async function n(e){let t=await (0,s.x7)((0,s.H9)(r.db,"users",e));return t.exists()?t.data():null}async function l(e,t,a){let i=(0,s.H9)(r.db,"users",e);await (0,s.mZ)(i,{wishlist:a?(0,s.hq)(t):(0,s.C3)(t)})}async function c(e){if(!e||0===e.length)return[];let t=[];for(let a of e){let e=await o(a);e&&t.push(e)}return t}async function o(e){let t=(0,s.H9)(r.db,"products",e),a=await (0,s.x7)(t);return a.exists()?{id:a.id,...a.data()}:null}async function d(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s.AB)(50));return e&&"All"!==e&&(a=(0,s.P)(t,(0,s._M)("category","==",e),(0,s.AB)(50))),(await (0,s.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e){let t=(0,s.rJ)(r.db,"products");return await (0,s.gS)(t,{...e,createdAt:s.Dc.now()})}async function h(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s._M)("name","==",e),(0,s.AB)(1)),n=await (0,s.GG)(a);if(!n.empty){let e=n.docs[0];return{id:e.id,...e.data()}}let l={name:e,brand:"Generic Sustainable Brand",description:"A sustainable version of ".concat(e," found by our AI scanner."),materials:["Recycled Polyester","Organic Cotton"],certifications:["Fair Trade"],origin:"Portugal"},c=await i(l),o={...l,price:Math.floor(100*Math.random())+20,image:"https://source.unsplash.com/random/800x800?sustainable,".concat(e),score:c.total,breakdown:c.breakdown,category:"Uncategorized",createdAt:s.Dc.now()};return{id:(await (0,s.gS)(t,o)).id,...o}}},9946:(e,t,a)=>{Promise.resolve().then(a.bind(a,6217))}},e=>{e.O(0,[399,563,719,924,320,785,441,255,358],()=>e(e.s=9946)),_N_E=e.O()}]);