(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},550:(e,t,r)=>{"use strict";let a;r.d(t,{db:()=>l,j:()=>o});var s=r(2078),i=r(2553),n=r(9390);a=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)({apiKey:"AIzaSyBrpmL329XEEM0GHp5z_7qEeQyHA_gLlug",authDomain:"sustainabuy-dev.firebaseapp.com",projectId:"sustainabuy-dev",storageBucket:"sustainabuy-dev.firebasestorage.app",messagingSenderId:"99139895549",appId:"1:99139895549:web:728ca5ad41a4950acebe94"});let o=(0,i.xI)(a),l=(0,n.aU)(a)},667:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var a=r(5155);function s(e){let{variant:t="primary",size:r="md",children:s,className:i="",...n}=e;return(0,a.jsx)("button",{className:"".concat("font-medium rounded-xl transition-all duration-200 active:scale-95 flex items-center justify-center"," ").concat({primary:"bg-cerulean-500 hover:bg-cerulean-600 text-white shadow-lg shadow-cerulean-500/20",secondary:"bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm border border-white/10",outline:"border border-cerulean-500 text-cerulean-400 hover:bg-cerulean-500/10",ghost:"text-gray-400 hover:text-white hover:bg-white/5"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(i),...n,children:s})}},937:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155),s=r(2619),i=r.n(s),n=r(7639),o=r(1503);function l(e){let{id:t,name:r,brand:s,price:l,image:c,score:d}=e;return(0,a.jsx)(i(),{href:"/products/".concat(t),className:"block group",children:(0,a.jsxs)(n.j,{tiltIntensity:20,className:"h-full transition-all duration-300 group-hover:bg-jet-black-900/60",children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-white/5 rounded-t-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500 bg-jet-black-800 pointer-events-none",children:(0,a.jsx)("span",{className:"text-[10px] tracking-tight opacity-50 uppercase",children:r})}),(0,a.jsx)("img",{src:c,alt:r,className:"relative z-10 object-cover w-full h-full transition-all duration-500 group-hover:scale-105 will-change-transform",onError:e=>{e.currentTarget.style.display="none"}}),(0,a.jsx)("div",{className:"absolute top-3 right-3 z-20",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1.5 px-2.5 py-1 rounded-full border backdrop-blur-md shadow-sm ".concat(d>=80?"text-tea-green-500 bg-tea-green-500/10 border-tea-green-500/20":d>=60?"text-muted-teal-400 bg-muted-teal-400/10 border-muted-teal-400/20":"text-yellow-500 bg-yellow-500/10 border-yellow-500/20"),children:[(0,a.jsx)(o.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"text-xs font-bold leading-none",children:d})]})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("p",{className:"text-xs text-cerulean-400 mb-1 font-medium tracking-wide uppercase",children:s}),(0,a.jsx)("h3",{className:"text-white font-medium mb-2 truncate group-hover:text-cerulean-300 transition-colors",children:r}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-lg font-bold text-white",children:["$",l.toFixed(2)]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"View Details â†’"})]})]})]})})}},3104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),i=r(63),n=r(9293),o=r(9626),l=r(937),c=r(667),d=r(3457);function u(){let{user:e}=(0,n.A)(),t=(0,i.useRouter)(),[r,u]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{if(!e)return void t.push("/login");(async()=>{try{var t;let r=await (0,o.VM)(e.uid);if(r&&(null==(t=r.wishlist)?void 0:t.length)>0){let e=await (0,o.Uj)(r.wishlist);u(e)}}catch(e){console.error("Error fetching wishlist:",e)}finally{m(!1)}})()},[e,t]),h)?(0,a.jsx)("div",{className:"p-20 text-center text-white",children:"Loading wishlist..."}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)("div",{className:"p-3 bg-red-500/10 rounded-full",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-red-400 fill-red-400"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"My Wishlist"})]}),0===r.length?(0,a.jsxs)("div",{className:"text-center py-20 bg-white/5 rounded-2xl border border-white/10",children:[(0,a.jsx)("p",{className:"text-gray-400 text-lg mb-4",children:"Your wishlist is empty."}),(0,a.jsx)(c.$,{onClick:()=>t.push("/products"),children:"Browse Sustainable Products"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>(0,a.jsx)(l.A,{...e},e.id))})]})}},3457:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5121).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7639:(e,t,r)=>{"use strict";r.d(t,{j:()=>u});var a=r(5155),s=r(3350),i=r(7952),n=r(9770),o=r(2719),l=r(2821),c=r(5889),d=r(2115);function u(e){let{children:t,className:r,tiltIntensity:u=15,...h}=e,m=(0,d.useRef)(null),g=(0,s.d)(0),x=(0,s.d)(0),p=(0,i.z)(g,{stiffness:500,damping:100}),b=(0,i.z)(x,{stiffness:500,damping:100}),f=(0,n.G)(b,[-.5,.5],[u,-u]),y=(0,n.G)(p,[-.5,.5],[-u,u]);return(0,a.jsxs)(o.P.div,{ref:m,onMouseMove:e=>{if(!m.current)return;let t=m.current.getBoundingClientRect(),r=t.width,a=t.height,s=e.clientX-t.left,i=e.clientY-t.top;g.set(s/r-.5),x.set(i/a-.5)},onMouseLeave:()=>{g.set(0),x.set(0)},style:{rotateX:f,rotateY:y,transformStyle:"preserve-3d",boxShadow:"var(--liquid-shadow)",willChange:"transform"},className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,c.QP)((0,l.$)(t))}("relative rounded-2xl transition-all duration-200 ease-out","bg-jet-black-900/40 backdrop-blur-md border border-white/10","group isolate",r),...h,children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay pointer-events-none z-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-white/10 group-hover:ring-white/30 transition-all duration-500 z-10"}),(0,a.jsx)("div",{className:"absolute -inset-[100px] bg-gradient-to-r from-cerulean-500/0 via-cerulean-500/10 to-tropical-teal-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-3xl -z-10"}),(0,a.jsx)("div",{className:"relative z-20",style:{transform:"translateZ(20px)"},children:t}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl pointer-events-none z-30 mix-blend-overlay"})]})}},9293:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>c});var a=r(5155),s=r(2115),i=r(2553),n=r(550);let o=(0,s.createContext)({user:null,loading:!0,signInWithGoogle:async()=>{},signInWithGithub:async()=>{},logout:async()=>{}}),l=()=>(0,s.useContext)(o);function c(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,i.hg)(n.j,e=>{l(e),d(!1)});return()=>e()},[]);let u=async()=>{let e=new i.HF;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Google",e),e}},h=async()=>{let e=new i.Dt;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Github",e),e}},m=async()=>{try{await (0,i.CI)(n.j)}catch(e){console.error("Error signing out",e)}};return(0,a.jsx)(o.Provider,{value:{user:r,loading:c,signInWithGoogle:u,signInWithGithub:h,logout:m},children:t})}},9626:(e,t,r)=>{"use strict";r.d(t,{kF:()=>u,$T:()=>h,AS:()=>d,oo:()=>c,VM:()=>n,Uj:()=>l,oS:()=>o});var a=r(9390),s=r(550);async function i(e){await new Promise(e=>setTimeout(e,500));let t=70,r=[],a=["organic cotton","recycled polyester","hemp","tencel","bamboo"],s=["virgin polyester","rayon","conventional cotton"],i=e.materials.some(e=>a.some(t=>e.toLowerCase().includes(t))),n=e.materials.some(e=>s.some(t=>e.toLowerCase().includes(t)));return i&&(t+=15,r.push("Contains sustainable materials like "+e.materials.find(e=>a.some(t=>e.toLowerCase().includes(t))))),n&&(t-=10,r.push("Contains high-impact materials.")),e.certifications&&e.certifications.length>0&&(t+=5*e.certifications.length,r.push("Verified certifications: ".concat(e.certifications.join(", ")))),{total:t=Math.min(100,Math.max(0,t)),breakdown:{materials:Math.min(100,t+(10*Math.random()-5)),manufacturing:Math.min(100,t+(10*Math.random()-5)),supplyChain:Math.min(100,t-5),longevity:Math.min(100,t+5),circularity:Math.min(100,t-10)},analysis:r.length>0?r:["Standard sustainability profile."]}}async function n(e){let t=await (0,a.x7)((0,a.H9)(s.db,"users",e));return t.exists()?t.data():null}async function o(e,t,r){let i=(0,a.H9)(s.db,"users",e);await (0,a.mZ)(i,{wishlist:r?(0,a.hq)(t):(0,a.C3)(t)})}async function l(e){if(!e||0===e.length)return[];let t=[];for(let r of e){let e=await c(r);e&&t.push(e)}return t}async function c(e){let t=(0,a.H9)(s.db,"products",e),r=await (0,a.x7)(t);return r.exists()?{id:r.id,...r.data()}:null}async function d(e){let t=(0,a.rJ)(s.db,"products"),r=(0,a.P)(t,(0,a.AB)(50));return e&&"All"!==e&&(r=(0,a.P)(t,(0,a._M)("category","==",e),(0,a.AB)(50))),(await (0,a.GG)(r)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e){let t=(0,a.rJ)(s.db,"products");return await (0,a.gS)(t,{...e,createdAt:a.Dc.now()})}async function h(e){let t=(0,a.rJ)(s.db,"products"),r=(0,a.P)(t,(0,a._M)("name","==",e),(0,a.AB)(1)),n=await (0,a.GG)(r);if(!n.empty){let e=n.docs[0];return{id:e.id,...e.data()}}let o={name:e,brand:"Generic Sustainable Brand",description:"A sustainable version of ".concat(e," found by our AI scanner."),materials:["Recycled Polyester","Organic Cotton"],certifications:["Fair Trade"],origin:"Portugal"},l=await i(o),c={...o,price:Math.floor(100*Math.random())+20,image:"https://source.unsplash.com/random/800x800?sustainable,".concat(e),score:l.total,breakdown:l.breakdown,category:"Uncategorized",createdAt:a.Dc.now()};return{id:(await (0,a.gS)(t,c)).id,...c}}},9795:(e,t,r)=>{Promise.resolve().then(r.bind(r,3104))}},e=>{e.O(0,[399,563,719,924,320,785,441,255,358],()=>e(e.s=9795)),_N_E=e.O()}]);