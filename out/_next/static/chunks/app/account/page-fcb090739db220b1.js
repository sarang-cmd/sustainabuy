(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},550:(e,t,a)=>{"use strict";let s;a.d(t,{db:()=>c,j:()=>l});var r=a(2078),i=a(2553),n=a(9390);s=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyBrpmL329XEEM0GHp5z_7qEeQyHA_gLlug",authDomain:"sustainabuy-dev.firebaseapp.com",projectId:"sustainabuy-dev",storageBucket:"sustainabuy-dev.firebasestorage.app",messagingSenderId:"99139895549",appId:"1:99139895549:web:728ca5ad41a4950acebe94"});let l=(0,i.xI)(s),c=(0,n.aU)(s)},667:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(5155);function r(e){let{variant:t="primary",size:a="md",children:r,className:i="",...n}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-xl transition-all duration-200 active:scale-95 flex items-center justify-center"," ").concat({primary:"bg-cerulean-500 hover:bg-cerulean-600 text-white shadow-lg shadow-cerulean-500/20",secondary:"bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm border border-white/10",outline:"border border-cerulean-500 text-cerulean-400 hover:bg-cerulean-500/10",ghost:"text-gray-400 hover:text-white hover:bg-white/5"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(i),...n,children:r})}},1503:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},1826:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(5155),r=a(2115),i=a(63),n=a(9293),l=a(9626),c=a(7639),o=a(667),d=a(5121);let u=(0,d.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,d.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),m=(0,d.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var x=a(3457),g=a(1503);function p(){var e,t;let{user:a,logout:d}=(0,n.A)(),p=(0,i.useRouter)(),[f,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{if(!a)return void p.push("/login");(async()=>{try{let e=await (0,l.VM)(a.uid);b(e)}catch(e){console.error("Error fetching profile:",e)}finally{v(!1)}})()},[a,p]),y)?(0,s.jsx)("div",{className:"p-20 text-center text-white",children:"Loading profile..."}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"My Account"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsx)(c.j,{className:"p-8 col-span-1 md:col-span-1 h-fit",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-jet-black-800 border-2 border-cerulean-500 mb-4 overflow-hidden relative",children:(null==a?void 0:a.photoURL)?(0,s.jsx)("img",{src:a.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl text-cerulean-500 font-bold",children:(null==a||null==(e=a.displayName)?void 0:e.charAt(0))||"U"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-1",children:(null==a?void 0:a.displayName)||"User"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mb-6",children:null==a?void 0:a.email}),(0,s.jsxs)("div",{className:"w-full space-y-3",children:[(0,s.jsxs)(o.$,{variant:"secondary",className:"w-full flex items-center justify-center gap-2",children:[(0,s.jsx)(u,{className:"h-4 w-4"})," Settings"]}),(0,s.jsxs)(o.$,{variant:"ghost",className:"w-full flex items-center justify-center gap-2 text-red-400 hover:bg-red-500/10 hover:text-red-300",onClick:async()=>{await d(),p.push("/")},children:[(0,s.jsx)(h,{className:"h-4 w-4"})," Sign Out"]})]})]})}),(0,s.jsxs)("div",{className:"col-span-1 md:col-span-2 space-y-8",children:[(0,s.jsxs)(c.j,{className:"p-8 bg-gradient-to-br from-jet-black-900/40 to-cerulean-900/10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(m,{className:"h-6 w-6 text-yellow-400"}),"Sustainability Impact"]}),(0,s.jsx)("span",{className:"bg-cerulean-500/20 text-cerulean-300 px-3 py-1 rounded-full text-sm font-medium",children:"Level 1: Conscious Consumer"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:(null==f?void 0:f.sustainabilityScore)||0}),(0,s.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Points Earned"})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:(null==f||null==(t=f.wishlist)?void 0:t.length)||0}),(0,s.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Saved Items"})]}),(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,s.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:"0kg"}),(0,s.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"CO2 Avoided"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(o.$,{className:"h-32 flex flex-col items-center justify-center gap-3 bg-jet-black-800/50 hover:bg-jet-black-800 border border-white/5",onClick:()=>p.push("/wishlist"),children:[(0,s.jsx)(x.A,{className:"h-8 w-8 text-red-400"}),(0,s.jsx)("span",{className:"text-lg",children:"My Wishlist"})]}),(0,s.jsxs)(o.$,{className:"h-32 flex flex-col items-center justify-center gap-3 bg-jet-black-800/50 hover:bg-jet-black-800 border border-white/5",onClick:()=>p.push("/products"),children:[(0,s.jsx)(g.A,{className:"h-8 w-8 text-tea-green-400"}),(0,s.jsx)("span",{className:"text-lg",children:"Discover Products"})]})]})]})]})]})}},3457:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},7639:(e,t,a)=>{"use strict";a.d(t,{j:()=>u});var s=a(5155),r=a(3350),i=a(7952),n=a(9770),l=a(2719),c=a(2821),o=a(5889),d=a(2115);function u(e){let{children:t,className:a,tiltIntensity:u=15,...h}=e,m=(0,d.useRef)(null),x=(0,r.d)(0),g=(0,r.d)(0),p=(0,i.z)(x,{stiffness:500,damping:100}),f=(0,i.z)(g,{stiffness:500,damping:100}),b=(0,n.G)(f,[-.5,.5],[u,-u]),y=(0,n.G)(p,[-.5,.5],[-u,u]);return(0,s.jsxs)(l.P.div,{ref:m,onMouseMove:e=>{if(!m.current)return;let t=m.current.getBoundingClientRect(),a=t.width,s=t.height,r=e.clientX-t.left,i=e.clientY-t.top;x.set(r/a-.5),g.set(i/s-.5)},onMouseLeave:()=>{x.set(0),g.set(0)},style:{rotateX:b,rotateY:y,transformStyle:"preserve-3d",boxShadow:"var(--liquid-shadow)",willChange:"transform"},className:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,c.$)(t))}("relative rounded-2xl transition-all duration-200 ease-out","bg-jet-black-900/40 backdrop-blur-md border border-white/10","group isolate",a),...h,children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay pointer-events-none z-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-white/10 group-hover:ring-white/30 transition-all duration-500 z-10"}),(0,s.jsx)("div",{className:"absolute -inset-[100px] bg-gradient-to-r from-cerulean-500/0 via-cerulean-500/10 to-tropical-teal-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-3xl -z-10"}),(0,s.jsx)("div",{className:"relative z-20",style:{transform:"translateZ(20px)"},children:t}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl pointer-events-none z-30 mix-blend-overlay"})]})}},9293:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,AuthProvider:()=>o});var s=a(5155),r=a(2115),i=a(2553),n=a(550);let l=(0,r.createContext)({user:null,loading:!0,signInWithGoogle:async()=>{},signInWithGithub:async()=>{},logout:async()=>{}}),c=()=>(0,r.useContext)(l);function o(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,i.hg)(n.j,e=>{c(e),d(!1)});return()=>e()},[]);let u=async()=>{let e=new i.HF;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Google",e),e}},h=async()=>{let e=new i.Dt;try{await (0,i.df)(n.j,e)}catch(e){throw console.error("Error signing in with Github",e),e}},m=async()=>{try{await (0,i.CI)(n.j)}catch(e){console.error("Error signing out",e)}};return(0,s.jsx)(l.Provider,{value:{user:a,loading:o,signInWithGoogle:u,signInWithGithub:h,logout:m},children:t})}},9621:(e,t,a)=>{Promise.resolve().then(a.bind(a,1826))},9626:(e,t,a)=>{"use strict";a.d(t,{kF:()=>u,$T:()=>h,AS:()=>d,oo:()=>o,VM:()=>n,Uj:()=>c,oS:()=>l});var s=a(9390),r=a(550);async function i(e){await new Promise(e=>setTimeout(e,500));let t=70,a=[],s=["organic cotton","recycled polyester","hemp","tencel","bamboo"],r=["virgin polyester","rayon","conventional cotton"],i=e.materials.some(e=>s.some(t=>e.toLowerCase().includes(t))),n=e.materials.some(e=>r.some(t=>e.toLowerCase().includes(t)));return i&&(t+=15,a.push("Contains sustainable materials like "+e.materials.find(e=>s.some(t=>e.toLowerCase().includes(t))))),n&&(t-=10,a.push("Contains high-impact materials.")),e.certifications&&e.certifications.length>0&&(t+=5*e.certifications.length,a.push("Verified certifications: ".concat(e.certifications.join(", ")))),{total:t=Math.min(100,Math.max(0,t)),breakdown:{materials:Math.min(100,t+(10*Math.random()-5)),manufacturing:Math.min(100,t+(10*Math.random()-5)),supplyChain:Math.min(100,t-5),longevity:Math.min(100,t+5),circularity:Math.min(100,t-10)},analysis:a.length>0?a:["Standard sustainability profile."]}}async function n(e){let t=await (0,s.x7)((0,s.H9)(r.db,"users",e));return t.exists()?t.data():null}async function l(e,t,a){let i=(0,s.H9)(r.db,"users",e);await (0,s.mZ)(i,{wishlist:a?(0,s.hq)(t):(0,s.C3)(t)})}async function c(e){if(!e||0===e.length)return[];let t=[];for(let a of e){let e=await o(a);e&&t.push(e)}return t}async function o(e){let t=(0,s.H9)(r.db,"products",e),a=await (0,s.x7)(t);return a.exists()?{id:a.id,...a.data()}:null}async function d(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s.AB)(50));return e&&"All"!==e&&(a=(0,s.P)(t,(0,s._M)("category","==",e),(0,s.AB)(50))),(await (0,s.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e){let t=(0,s.rJ)(r.db,"products");return await (0,s.gS)(t,{...e,createdAt:s.Dc.now()})}async function h(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s._M)("name","==",e),(0,s.AB)(1)),n=await (0,s.GG)(a);if(!n.empty){let e=n.docs[0];return{id:e.id,...e.data()}}let l={name:e,brand:"Generic Sustainable Brand",description:"A sustainable version of ".concat(e," found by our AI scanner."),materials:["Recycled Polyester","Organic Cotton"],certifications:["Fair Trade"],origin:"Portugal"},c=await i(l),o={...l,price:Math.floor(100*Math.random())+20,image:"https://source.unsplash.com/random/800x800?sustainable,".concat(e),score:c.total,breakdown:c.breakdown,category:"Uncategorized",createdAt:s.Dc.now()};return{id:(await (0,s.gS)(t,o)).id,...o}}}},e=>{e.O(0,[399,563,719,924,320,441,255,358],()=>e(e.s=9621)),_N_E=e.O()}]);