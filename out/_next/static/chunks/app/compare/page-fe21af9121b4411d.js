(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},550:(e,t,a)=>{"use strict";let s;a.d(t,{db:()=>c,j:()=>l});var r=a(2078),i=a(2553),n=a(9390);s=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyBrpmL329XEEM0GHp5z_7qEeQyHA_gLlug",authDomain:"sustainabuy-dev.firebaseapp.com",projectId:"sustainabuy-dev",storageBucket:"sustainabuy-dev.firebasestorage.app",messagingSenderId:"99139895549",appId:"1:99139895549:web:728ca5ad41a4950acebe94"});let l=(0,i.xI)(s),c=(0,n.aU)(s)},667:(e,t,a)=>{"use strict";a.d(t,{$:()=>r});var s=a(5155);function r(e){let{variant:t="primary",size:a="md",children:r,className:i="",...n}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-xl transition-all duration-200 active:scale-95 flex items-center justify-center"," ").concat({primary:"bg-cerulean-500 hover:bg-cerulean-600 text-white shadow-lg shadow-cerulean-500/20",secondary:"bg-white/10 hover:bg-white/20 text-white backdrop-blur-sm border border-white/10",outline:"border border-cerulean-500 text-cerulean-400 hover:bg-cerulean-500/10",ghost:"text-gray-400 hover:text-white hover:bg-white/5"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(i),...n,children:r})}},968:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},3952:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]])},4598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),r=a(2115),i=a(63),n=a(9626),l=a(7639),c=a(667),o=a(8829),d=a(3952),u=a(6154),m=a(968);function h(){let e=(0,i.useSearchParams)(),t=(0,i.useRouter)(),[a,h]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),[g,f]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{let t=e.get("products");if(!t)return p(!1);let a=t.split(",");p(!0);try{let e=await Promise.all(a.map(e=>(0,n.oo)(e)));h(e.filter(e=>null!==e))}catch(e){console.error("Error fetching comparison:",e)}finally{p(!1)}})()},[e]),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:"Compare Products"}),(0,s.jsxs)("div",{className:"mb-8 flex gap-4 max-w-md",children:[(0,s.jsx)(o.p,{placeholder:"Enter Product ID to add...",value:g,onChange:e=>f(e.target.value)}),(0,s.jsx)(c.$,{onClick:()=>{if(!g)return;let a=e.get("products"),s=a?"".concat(a,",").concat(g):g;t.push("/compare?products=".concat(s)),f("")},children:"Add"})]}),x?(0,s.jsx)("div",{className:"text-white text-center",children:"Loading comparison..."}):0===a.length?(0,s.jsxs)("div",{className:"text-center text-gray-400 py-20",children:["No products selected. Go to ",(0,s.jsx)("a",{href:"/products",className:"text-cerulean-400",children:"Products"})," to select items."]}):(0,s.jsx)("div",{className:"overflow-x-auto pb-4",children:(0,s.jsxs)("div",{className:"min-w-[800px] grid grid-cols-[200px_repeat(auto-fit,minmax(250px,1fr))] gap-4",children:[(0,s.jsxs)("div",{className:"space-y-6 pt-64 font-medium text-gray-400",children:[(0,s.jsx)("div",{className:"h-8",children:"Price"}),(0,s.jsx)("div",{className:"h-8",children:"Sustainability Score"}),(0,s.jsx)("div",{className:"h-8",children:"Materials"}),(0,s.jsx)("div",{className:"h-8",children:"Manufacturing"}),(0,s.jsx)("div",{className:"h-8",children:"Supply Chain"}),(0,s.jsx)("div",{className:"h-8",children:"Certifications"})]}),a.map(e=>{var a,r,i,n;return(0,s.jsxs)(l.j,{className:"p-6",children:[(0,s.jsxs)("div",{className:"h-64 mb-6 flex flex-col",children:[(0,s.jsx)("div",{className:"h-40 bg-white/5 rounded-lg mb-4 overflow-hidden",children:e.image&&(0,s.jsx)("img",{src:e.image,className:"w-full h-full object-cover",alt:e.name,onError:e=>e.currentTarget.style.display="none"})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-cerulean-400 text-sm mb-2",children:e.brand})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"h-8 text-xl font-bold text-white",children:["$",e.price]}),(0,s.jsx)("div",{className:"h-8 flex items-center gap-2",children:(0,s.jsxs)("div",{className:"px-2 py-1 rounded text-sm font-bold ".concat(e.score>80?"bg-tea-green-500/20 text-tea-green-400":"bg-yellow-500/20 text-yellow-500"),children:[e.score,"/100"]})}),(0,s.jsxs)("div",{className:"h-8 flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"})," ",(null==(a=e.breakdown)?void 0:a.materials)||0]}),(0,s.jsxs)("div",{className:"h-8 flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"})," ",(null==(r=e.breakdown)?void 0:r.manufacturing)||0]}),(0,s.jsxs)("div",{className:"h-8 flex items-center gap-2 text-sm text-gray-300",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"})," ",(null==(i=e.breakdown)?void 0:i.supplyChain)||0]}),(0,s.jsx)("div",{className:"h-8 text-sm text-gray-300 truncate",children:(null==(n=e.certifications)?void 0:n.join(", "))||"-"})]}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-white/10",children:(0,s.jsx)(c.$,{className:"w-full",onClick:()=>t.push("/products/".concat(e.id)),children:"View Details"})})]},e.id)})]})})]})}function x(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"text-white p-10",children:"Loading..."}),children:(0,s.jsx)(h,{})})}},6154:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(5121).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},7639:(e,t,a)=>{"use strict";a.d(t,{j:()=>u});var s=a(5155),r=a(3350),i=a(7952),n=a(9770),l=a(2719),c=a(2821),o=a(5889),d=a(2115);function u(e){let{children:t,className:a,tiltIntensity:u=15,...m}=e,h=(0,d.useRef)(null),x=(0,r.d)(0),p=(0,r.d)(0),g=(0,i.z)(x,{stiffness:500,damping:100}),f=(0,i.z)(p,{stiffness:500,damping:100}),b=(0,n.G)(f,[-.5,.5],[u,-u]),y=(0,n.G)(g,[-.5,.5],[-u,u]);return(0,s.jsxs)(l.P.div,{ref:h,onMouseMove:e=>{if(!h.current)return;let t=h.current.getBoundingClientRect(),a=t.width,s=t.height,r=e.clientX-t.left,i=e.clientY-t.top;x.set(r/a-.5),p.set(i/s-.5)},onMouseLeave:()=>{x.set(0),p.set(0)},style:{rotateX:b,rotateY:y,transformStyle:"preserve-3d",boxShadow:"var(--liquid-shadow)",willChange:"transform"},className:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,c.$)(t))}("relative rounded-2xl transition-all duration-200 ease-out","bg-jet-black-900/40 backdrop-blur-md border border-white/10","group isolate",a),...m,children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-overlay pointer-events-none z-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-white/10 group-hover:ring-white/30 transition-all duration-500 z-10"}),(0,s.jsx)("div",{className:"absolute -inset-[100px] bg-gradient-to-r from-cerulean-500/0 via-cerulean-500/10 to-tropical-teal-500/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 blur-3xl -z-10"}),(0,s.jsx)("div",{className:"relative z-20",style:{transform:"translateZ(20px)"},children:t}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-2xl pointer-events-none z-30 mix-blend-overlay"})]})}},8005:(e,t,a)=>{Promise.resolve().then(a.bind(a,4598))},8829:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(5155);function r(e){let{label:t,error:a,icon:r,className:i="",...n}=e;return(0,s.jsxs)("div",{className:"w-full",children:[t&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{className:"\n            w-full bg-jet-black-800/50 border border-white/10 rounded-xl px-4 py-2.5 \n            text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cerulean-500/50 focus:border-cerulean-500\n            transition-all duration-200 backdrop-blur-sm\n            ".concat(r?"pl-10":"","\n            ").concat(a?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"","\n            ").concat(i,"\n          "),...n}),r&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:r})]}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-400",children:a})]})}},9626:(e,t,a)=>{"use strict";a.d(t,{kF:()=>u,$T:()=>m,AS:()=>d,oo:()=>o,VM:()=>n,Uj:()=>c,oS:()=>l});var s=a(9390),r=a(550);async function i(e){await new Promise(e=>setTimeout(e,500));let t=70,a=[],s=["organic cotton","recycled polyester","hemp","tencel","bamboo"],r=["virgin polyester","rayon","conventional cotton"],i=e.materials.some(e=>s.some(t=>e.toLowerCase().includes(t))),n=e.materials.some(e=>r.some(t=>e.toLowerCase().includes(t)));return i&&(t+=15,a.push("Contains sustainable materials like "+e.materials.find(e=>s.some(t=>e.toLowerCase().includes(t))))),n&&(t-=10,a.push("Contains high-impact materials.")),e.certifications&&e.certifications.length>0&&(t+=5*e.certifications.length,a.push("Verified certifications: ".concat(e.certifications.join(", ")))),{total:t=Math.min(100,Math.max(0,t)),breakdown:{materials:Math.min(100,t+(10*Math.random()-5)),manufacturing:Math.min(100,t+(10*Math.random()-5)),supplyChain:Math.min(100,t-5),longevity:Math.min(100,t+5),circularity:Math.min(100,t-10)},analysis:a.length>0?a:["Standard sustainability profile."]}}async function n(e){let t=await (0,s.x7)((0,s.H9)(r.db,"users",e));return t.exists()?t.data():null}async function l(e,t,a){let i=(0,s.H9)(r.db,"users",e);await (0,s.mZ)(i,{wishlist:a?(0,s.hq)(t):(0,s.C3)(t)})}async function c(e){if(!e||0===e.length)return[];let t=[];for(let a of e){let e=await o(a);e&&t.push(e)}return t}async function o(e){let t=(0,s.H9)(r.db,"products",e),a=await (0,s.x7)(t);return a.exists()?{id:a.id,...a.data()}:null}async function d(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s.AB)(50));return e&&"All"!==e&&(a=(0,s.P)(t,(0,s._M)("category","==",e),(0,s.AB)(50))),(await (0,s.GG)(a)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e){let t=(0,s.rJ)(r.db,"products");return await (0,s.gS)(t,{...e,createdAt:s.Dc.now()})}async function m(e){let t=(0,s.rJ)(r.db,"products"),a=(0,s.P)(t,(0,s._M)("name","==",e),(0,s.AB)(1)),n=await (0,s.GG)(a);if(!n.empty){let e=n.docs[0];return{id:e.id,...e.data()}}let l={name:e,brand:"Generic Sustainable Brand",description:"A sustainable version of ".concat(e," found by our AI scanner."),materials:["Recycled Polyester","Organic Cotton"],certifications:["Fair Trade"],origin:"Portugal"},c=await i(l),o={...l,price:Math.floor(100*Math.random())+20,image:"https://source.unsplash.com/random/800x800?sustainable,".concat(e),score:c.total,breakdown:c.breakdown,category:"Uncategorized",createdAt:s.Dc.now()};return{id:(await (0,s.gS)(t,o)).id,...o}}}},e=>{e.O(0,[399,563,719,924,320,441,255,358],()=>e(e.s=8005)),_N_E=e.O()}]);